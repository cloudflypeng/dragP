(function(n,a){typeof exports=="object"&&typeof module<"u"?a(exports):typeof define=="function"&&define.amd?define(["exports"],a):(n=typeof globalThis<"u"?globalThis:n||self,a(n["drag-p"]={}))})(this,function(n){"use strict";let a=(e=21)=>crypto.getRandomValues(new Uint8Array(e)).reduce((t,o)=>(o&=63,o<36?t+=o.toString(36):o<62?t+=(o-26).toString(36).toUpperCase():o>62?t+="-":t+="_",t),"");n.cloneDom=null;let r=null,i=[],s=[],u=e=>{e.preventDefault()};const f=()=>{n.cloneDom.style.position="absolute",n.cloneDom.style.top="-100vh",n.cloneDom.style.left="-100vw",n.cloneDom.style.pointerEvents="none",n.cloneDom.id=a(),r=n.cloneDom.id,document.body.appendChild(n.cloneDom)},g=()=>{let e=document.getElementById(r);e==null||e.remove()};let D=e=>{e.target.removeEventListener("dragend",D),i.forEach(t=>{t.removeEventListener("dragover",u),t.classList.remove(`${r}-active`)}),s.forEach(t=>{t.remove()}),i=[],s=[],g(),n.cloneDom=null,r=null},v=e=>{let t=e.clonedStyle||{};m(t)||Object.keys(t).forEach(l=>{n.cloneDom.style[l]=t[l]});let o=e.targetStyle||{};if(!m(o)){let l=document.createElement("style");l.type="text/css";let c="";Object.keys(o).forEach(d=>{c+=`${L(d)}:${o[d]};`}),l.innerHTML=`.${r}-active {${c}} `,document.head.appendChild(l),s.push(l)}},y=(e=[])=>{e.forEach(t=>{(E(t)?[t]:document.querySelectorAll(t)||[]).forEach(l=>{l.classList.add(`${r}-active`),l.addEventListener("dragover",u),i.push(l)})})};const h=(e,t)=>(o,...l)=>{let c=o.target;n.cloneDom=c.cloneNode(!0),f(),m(t)||v(t),o.dataTransfer.setDragImage(n.cloneDom,100,100),c.addEventListener("dragend",D),o.remember=d=>{o.dataTransfer.setData("text/plain",JSON.stringify(d))},o.activeTarget=y,console.log("args :>> ",l),e(o,...l)};function E(e){return console.log("obj :>> ",e),e instanceof HTMLElement}function m(e){return e?Object.keys(e).length===0:!0}let L=e=>e.replace(/([A-Z])/g,"-$1").toLowerCase();n.addDragNode=f,n.dragP=h,n.removeDragNode=g,Object.defineProperty(n,Symbol.toStringTag,{value:"Module"})});
